---
title: 'Образ Города в тетралогии Л. Даррелла "Александрийский квартет"'
author: "Дарья Галкина"
date: "2024-12-22"
bibliography: bibliography.bib
---

Первый роман тетралогии "Александрийский квартет" открывает следующее уведомление:

```{=html}
<i>
<div style="text-align: center;">
Персонажи этой книги, первой из четырех, 
являются полностью вымышленными, 
как и личность рассказчика, и прототипов не имеют. 
Реален лишь город.
</div>
</i>
<div style="text-align: right;">
Л. Даррелл, "Жюстин"
</div>
```

Это сообщение призвано убедить читателя, что речь в романе пойдёт о вымышленных персонажах и ситуациях, которые однако будут разворачиваться в декорациях реального египеского города. С этой иллюзией читатель погружается в атмосферу романа и по прочтении, полностью очарованный образом довоенной Александрии, остётся убеждённым в том, что именно такой она предстала перед Дарреллом во время его предывания в Египте. Оставим читателя в счастливом неведении и приведём строки из письма Даррелла своему другу Генри Миллеру, представляющие Александрю времён Даррелла в другом свете:

> Then this smashed up broken down shabby Neapolitan town, with its Levantine mounds of houses peeling in the sun. A sea flat, dirty brown and waveless rubbing the port. Arabic, Coptic, Greek, Levant French; no music, no art, no real gaiety. A saturated middle European boredom laced with drink and Packards and beach-cabins. NO SUBJECT OF CONVERSATION EXCEPT MONEY. Even love is thought of in money terms. \[…\] No, if one could write a single line of anything that had a human smell to it here, one would be a genius. [@correspondence], Correspondence

Это лукавство Даррелла не прошло незамеченным в критикеских работах, посвящённых роману. Так, было высказано следующее предположение: "The contrast with the fictional Alexandria explains après coup Durrell’s eagerness to leave the real and uninspiring Alexandria in order to write his own version" [@herbrechter, 269].

Так или иначе, большинство известных нам исследователей этого романа склонны выделять Александрию в качестве отдельного персонажа, так как её выпуклый и запоминающийся образ является неотъемлемой частью текста: "Alexandria would not be Alexandria without its faded history, its cafés, brothels, cosmopolitan society and its beggars" [@tauer, 11]. О давлеющей роли локуса, формирующем основу романа, а также о функциональной роли персонажей в нём напишет и сам автор: "What makes ‘big’ books is surely as much to do with their site as their characters and incidents. \[…\] When they are well and truly anchored in nature they usually become classics. \[…\] You could not transplant them without totally damaging their ambience and mood. \[…\] This has nothing I think to do with the manners and habits of the human beings who populate them; for they exist in nature, as a function of place" [@durrell, 163]. А также: "Darley sees himself and the others “\[…\] not as men and women any longer \[…\] but beings unconsciously made part of place, buried to the waist among the ruins of a single city, steeped in its values \[…\]” [@balthazar, 225]".

::: {layout-ncol="2"}
![](https://i.pinimg.com/originals/a3/b3/bc/a3b3bc96dfe45f9b6e34495eae2dbf80.jpg){width="45%"}

![](https://i.pinimg.com/736x/d5/b3/c4/d5b3c4c3c2c729f4ba838d02d74ea1db.jpg){width="45%"}
:::

# Дизайн исследования

В этой связи мне стало интересно опробовать количественные методы анализа текста на материале этого романа и рассмотреть образ Александрии через призму векторизованного контекстуального окружения слов, которые могут быть связаны с образом города.

Оговорюсь, что данное исследование не призвано открыть новую страницу в богатой истории трактовки романа. На мой взгляд, система образов - один из наиболее трудно формализуемых элементов художественного текста, поэтому её анализ остаётся прерогативой близкого чтения. Тем не менее, в данной работе предпринята попытка количественного анализа текста, в рамках которой я надеюсь прокомментировать некоторые из традиционных положений, выдвигаемых литературоведами в отношении образа города, а также оценить потенциал метода точной взаимной информации для изучения образной системы художественного текста.

В рамках данной работы предлагается разделить текст на контекстные окна, которые будут отражать информацию о совместной встречаемости слов, а затем посчитать меру взаимной информации между словами, которая позволит определить, в каких словах автор обычно описывает Александрию.

# Ход работы

## Подготовка данных

Материалом для работы послужила электронная копия романа (любезно предоставленная мне переводчиком для исследовательских целей), так как опубликованный после редакторских правок текст не доступен в открытом доступе и защищён авторским правом. Книги хранятся в формате ".docx" и, как показала пробная лемматизация, не нуждаются в глубокой очистке. Однако для приведения данных к опрятному формату унифицируем кавычки, избавимся от упоминаний автора и названия книги, а также примечаний переводчика.

```{r, warning = FALSE, message = FALSE}
library(readtext)
library(tidyverse)
library(tidytext)
library(udpipe)
library(widyr)

file_paths <- c("Justine.docx", "Balthazar.docx", 
                "Mountolive.docx","Clea.docx")
names <- gsub(pattern = "\\.docx$", replacement = "", x = file_paths)

texts <- list()
for (doc in file_paths) {
  texts[[doc]] <- readtext(doc)$text
}


all_books <- tibble(
  Книга = names[], 
  Текст = unlist(texts))

unify_quotes <- function(text) {
  text <- str_replace_all(text, "[\u201C\u201D\u2018\u2019\u00AB\u00BB\"]", "\"")
  return(text)
}

delete_footnotes <- function(text) {
  text <- str_replace_all(text, "(?s)(?i)Примечания.*$", "")
  return(text)
}

delete_novel_info <- function(text) {
  text <- str_replace_all (text, "(?i)(Лоренс Даррелл|Жюстин|Бальтазар|Маунтолив|Клеа|Александрийский квартет)", "")
  return(text)
}

all_books <- all_books |>
  mutate(Текст = unify_quotes(Текст)) |>
  mutate(Текст = delete_footnotes(Текст)) |>
  mutate(Текст = delete_novel_info(Текст))
```

## Лемматизация

Аннотируем все тексты при помощи модели "syntagrus" и сохраним некоторые знаменательные части речи, которые будут действительно информативны при анализе контекстуально близких слов. Конечно, такое решение будет означать, что при дальнейшем делении текста "окна" не будут строго равны по величине (в каких-то фрагментах оригинального текста, несомненно, будет больше или меньше служебных частей речи). Однако такое решение, несомненно, предпочтительнее, чем полный отказ от лемматизации.

Кроме того, необходимо оговориться, что лемматизация снимает местоименную анафору, а значит поиск слов, связанных с городом, не будет принимать во внимание местоимения, к ним относящиеся. Конечно, в лемматизированном датасете хранится информация о вершинах, к которым относятся местоимения (в границах одного предложения), но отслеживание таких связей составляет отдельный предмет исследования. В оправдание игнорирования этого аспекта в данной работе заметим, что расстояние между главным словом и относящимся к нему местоимением обычно не превышает 1-2 предложений и будет компенсировано величиной окна.

```{r, warning=FALSE, echo = FALSE, message=FALSE}
invisible({
  udpipe_download_model(language = "russian-syntagrus")
})

```

```{r, warning=FALSE, message=FALSE}
syntagrus <- udpipe_load_model(file = "russian-syntagrus-ud-2.5-191206.udpipe")
annotated <- udpipe_annotate(syntagrus, all_books$Текст, Книга =  all_books$Книга)
annotated_tb <- as_tibble(annotated)

notion_words <- annotated_tb |>
  filter (upos %in% c("NOUN", "VERB", "ADJ", "PROPN")) 

nested <- notion_words |>
  select (doc_id, lemma) |>
  nest (lemmas = c(lemma)) 
```

## Оценка точечной взаимной информации

Разделим романы на контекстные окна фиксированной величины. Я проводила эксперименты с разными размерами окон и остановилась на 15-ти словах как аналоге развёрнутой фразы/небольшого абзаца, в рамках которой можно говорить о контекстуальных взаимосвязях.

Сначала применим алгоритм к первому роману тетралогии, к "Жюстин", а затем повторим то же самое для остальных книг и проанализируем результаты. Вычислим PPMI, чтобы избавиться от отрицательных значений PMI (они свидетельствуют о том, что вероятность встретить два слова в контексте выше, чем вероятность встретить их по отдельности; такие выводы требуют проверки на большом корпусе, поэтому плохо интерпретируемы в рамках текущей работы).

Затем сделам матрицу менее разреженной при помощи сингулярного разложения матрицы (SVD).

```{r, warning=FALSE, message=FALSE}
slide_windows <- function(tbl, window_size) {
  skipgrams <- slider::slide(
    tbl, 
    ~.x, 
    .after = window_size - 1, 
    .step = 1, 
    .complete = TRUE
  )
  
  safe_mutate <- safely(mutate)
  
  out <- map2(skipgrams,
              1:length(skipgrams),
              ~ safe_mutate(.x, window_id = .y))
  
  out |> 
    transpose() |> 
    pluck("result") |> 
    compact() |> 
    bind_rows()
}

windowed_Justine <- nested |> 
  filter (doc_id == "doc1") |>
  mutate(lemmas = map(lemmas, slide_windows, 20L)) |> 
  unnest(lemmas) |>
  select (- doc_id)

pmi_tbl_Justine <- windowed_Justine  |> 
  pairwise_pmi(lemma, window_id) 

ppmi_tbl_Justine <- pmi_tbl_Justine |> 
  mutate(ppmi = case_when(pmi < 0 ~ 0, .default = pmi))

word_emb_Justine <- ppmi_tbl_Justine |> 
  widely_svd(item1, item2, ppmi,
             weight_d = FALSE, nv = 100) |> 
  rename(word = item1)
```

# Поиск ближайших по контексту слов

Для начала необходимо определиться, по каким словам стоит совершать поиск. Опытным путём выяснилось, что слова "Александрия" и "город", как и ожидалось, довольно частотны и показательны. В некоторых книгах также иллюстративен был поиск контекста к слову "улица" - место действия большинства сцен романа. Были также предприняты попытки искать контекстуально близкие слова к леммам "тротуар" и "минарет" (landmark александрийского пейзажа), но результаты не были достаточно информативны.

## "Жюстин"

```{r, warning=FALSE, message=FALSE}
nearest_neighbors <- function(df, feat, doc=F) {
  inner_f <- function() {
    widely(
      ~ {
        y <- .[rep(feat, nrow(.)), ]
        res <- rowSums(. * y) / 
          (sqrt(rowSums(. ^ 2)) * sqrt(sum(.[feat, ] ^ 2)))
        
        matrix(res, ncol = 1, dimnames = list(x = names(res)))
      },
      sort = TRUE
    )}
  if (doc) {
    df |> inner_f()(doc, dimension, value) }
  else {
    df |> inner_f()(word, dimension, value)
  } |> 
    select(-item2)
}

word_emb_Justine |> 
  nearest_neighbors ("город")
word_emb_Justine |> 
  nearest_neighbors ("Александрия")
word_emb_Justine |> 
  nearest_neighbors ("Город")
word_emb_Justine |> 
  nearest_neighbors ("улица")

```

Проанализируем контекстуально близкие к искомым слова. Заметим, что в результатах присутствует много ошибок лемматизации, которые объясняются богатым барочным языком романа с вкраплениями низкоупотребительной лексики, а также наличием реалий и большого количества имён собственных. Однако ошибки лемматизации не препятствуют анализу текста, так как в большинстве случаев можно реконструировать правильную лемму.

Рассмотрим, из каких компонент вырисовывается образ города. Слова "размалёванный" ("размалеванных хибарок местных шлюх"), "нищий" и "Мелисса" (возлюбленная рассказчика, проститутка) создают впечатление развращённого и дешёвого места, "уличной" Александрии, города доступной любви. Об этом аспекте романа пишет [@tauer, 6]: "Durrell’s dwelling on sex in the four novels". Этому чувству "низкого" также созвучен эпизод книги, где упоминается слово "красить": "Но потом еще несколько дней глина на улице была пропитана его кровью \[разезанного на улице верблюда\] и красила красным наши босые ноги", а также слова "спекаться" и "сладковатый" (слова, оставляющие тягостное впечатление): "Улица из спекшейся, со сладковатым запахом глины, размякшей под дождем, но не мокрой".

Другое наблюдение [@tauer, 6], космополитизм города ("In the four novels we are pre predominantly in contact with the cosmopolitan society of the city"), также подтверждается результатами векторизации: в этой книге встречается слово "сирийка", которое впишется в ряд других национальностей и религий, обнаруженных при анализе других романов тетралогии.

Упоминание Антония и "поэта" поднимает отдельный смысловой пласт романа. Речь идёт о К. Кавафисе, "старом поэте", как он назван в книге, стихи которого прямо или косвенно цитируются к тексте. Даррелл читал по-гречески и мог по достоинству оценить творчество поэта, кроме того, как пишет [@katope, 125-126], его восприятие города было созвучно поэзии Кавафиса: “It is not surprising that Durrell turned to Cavafy's poetry to enrich his Quartet; during his years in Alexandria, his state of mind in the atmosphere of the city was such that he must have felt an affinity with the Greek poet”. Среди упомянутых в тексте стихотворений поэта - *"Покидает Дионис Антония"* (ориг. *"Ἀπολείπειν ὁ θεὸς Ἀντώνιον"*) об осаде Александрии Октавианом. Согласно Плутарху, Антоний услышал звуки оркеста в ночь перед осадой, которые означали, что его покровитель Дионис покидает его и что Антонию нужно готовиться к расставанию с Александрией: "κι αποχαιρέτα την, την Αλεξάνδρεια που χάνεις". Другое стихотворение Кавафиса, фигурирующее в тексте - «Город» - наоборот, говорит о невозможности героя сбежать из-под власти города. Упоминание великого греческого поэта, прочно укоренённого в александрийской культуре, и его стихов, описывающих город, довлеющий над судьбой персонажа, оказывается для Даррелла важным инструментом в формировании образа Александрии.

Не менее важным видится упоминание "мелодии" ("мелодия оркестра"), которая задаёт мотив карнавальности и характеризует Александрию как пространство праздника. Эта компонента получит своё развитие и в других книгах тетралогии.

Стоит также пояснить слова "платонический", "посредник", "ботанический" и "козёл". Как ни странно, они характеризуют одного персонажа: "Бальтазар — его \[города\] платонический *daimon*, посредник между его божествами и его людьми". Этот герой напоминает рассказчику "ботанического козла", "Пана" с "козлиными глазами". Бальтазар - несомненно, ключ к пониманию образа города, его "демон", поэтому их совместное упоминание вполне объяснимо.

Также среди ближайших соседей искомых слов встречаются упоминания кафе «Аль Актар» - фигуранта большого количества эпизодов романа, игры "триктрак", репрезентующей сцены аристократичной жизни богатых александрийцев, и Мнемджяна - персонажа, которого рассказчик называет "архивом города".

## "Бальтазар"

```{r, echo = FALSE, warning=FALSE, message=FALSE}
word_emb_Balthazar <- nested |> 
  filter (doc_id == "doc2") |>
  mutate(lemmas = map(lemmas, slide_windows, 15L)) |> 
  unnest(lemmas) |>
  select (- doc_id) |> 
  pairwise_pmi(lemma, window_id)|> 
  mutate(ppmi = case_when(pmi < 0 ~ 0, .default = pmi))|> 
  widely_svd(item1, item2, ppmi,
             weight_d = FALSE, nv = 100) |> 
  rename(word = item1)

word_emb_Balthazar |> 
  nearest_neighbors ("город")
word_emb_Balthazar |> 
  nearest_neighbors ("Александрия")
word_emb_Balthazar |> 
  nearest_neighbors ("улица")
```

В "Бальтазаре" громче звучит мотив праздника, начатый в "Жюстин", и среди ближайших по контексту слов встречаются "люстра", "оранжерейный", "украшение", "отзвук" \[забытого карнавала\], "пушинка" \[гитарного перезвона в темном воздухе полночных улиц\]. Здесь же можно отследить мотив тьмы, который, по мнению многих исследователей, является одним из самых характерных для первых трёх частей романа (что однако трудно утверждать, основываясь на результатах векторизации). Полагаю, оппозицию день/ночь, которая явно вырисовывается в тетралогии (путь от тьмы к свету в последней книге), сложно отследить, потому что упоминания соответствующей лексики контекстуально не связано со словом "город".

Тема карнавала пронизывает практически все связанные с городом контексты. Вот некоторые фрагменты текста, содержащие найденные слова: "На улицах города будет много *пастушек* и *арлекинов*, *Антониев* и *Клеопатр*, будут толпы Александров. \<...\> У ворот еще стояли *лимузины* и сонные слуги, но улицы уже успели опустеть, и шаги мои звучали диковато и резко, отлепляясь за моей спиной от тротуара". В первом фрагменте также появляется упоминание масочности, обманчивости - ведущего мотива тетралогии. Он будет выражаться в упоминании луны, зеркал, масок и отражения в воде - того, что искажает истину. К сожалению, поиск контекстуальных соседей не позволяет приблизиться к этому аспекту интерпретации текста, так как он разлит в каждой сцене романа и не связан с городом контекстуально, но, без всяких сомнений, отражает его двуличную природу. О многоликости города напишет [@tauer, 8] в связи с явной параллелью, проводимой между обманчивой героиней Жюстин и самим городом: "Alexandria is more than once compared to a woman and more than once compared to Justine in particular, and the ambiguity that surrounds both is clear from the beginning".

## "Маунтолив"

```{r, echo = FALSE, warning=FALSE, message=FALSE}
word_emb_Mountolive <- nested |> 
  filter (doc_id == "doc3") |>
  mutate(lemmas = map(lemmas, slide_windows, 15L)) |> 
  unnest(lemmas) |>
  select (- doc_id) |> 
  pairwise_pmi(lemma, window_id)|> 
  mutate(ppmi = case_when(pmi < 0 ~ 0, .default = pmi))|> 
  widely_svd(item1, item2, ppmi,
             weight_d = FALSE, nv = 100) |> 
  rename(word = item1)

word_emb_Mountolive |> 
  nearest_neighbors ("город")
word_emb_Mountolive |> 
  nearest_neighbors ("Александрия")
```

"Маунтолив" - это, в первую очередь, детективный роман об английском дипломате в Египте, о чём говорят встретившиеся слова "штаб-квартира", "спецпоезд", "посольство". Также в тексте присутствует много описывающих природу слов ("марево", "финики", "дюна", "лето", "хамсин"): действие романа часто происходит в пустыне, за городом.

Наиболее ярким из представленных видится слово "химерический \[город\]" - довольно точное и поэтичное описание эклектичной Александрии.

## "Клеа"

```{r, echo = FALSE, warning=FALSE, message=FALSE}
word_emb_Clea <- nested |> 
  filter (doc_id == "doc4") |>
  mutate(lemmas = map(lemmas, slide_windows, 15L)) |> 
  unnest(lemmas) |>
  select (- doc_id) |> 
  pairwise_pmi(lemma, window_id)|> 
  mutate(ppmi = case_when(pmi < 0 ~ 0, .default = pmi))|> 
  widely_svd(item1, item2, ppmi,
             weight_d = FALSE, nv = 100) |> 
  rename(word = item1)

word_emb_Clea |> 
  nearest_neighbors ("город")
word_emb_Clea |> 
  nearest_neighbors ("Александрия")
word_emb_Clea |> 
  nearest_neighbors ("улица")
```

В "Клеа" читатель встречает живописный портрет города, описанный рассказчиком и не требующий дополнительных комментариев (найденные по контекстуальному поиску слова выделены курсивом): "Этот город всегда был *извращен*, но в том, как он следовал своим *извращенным* наклонностям, был стиль, этакая старомодная *неторопливость*, даже в постелях с *почасовой* оплатой: но не стоя же, не прислонившись к стене, или к дереву, или к *капоту* грузовика! А теперь город порой напоминает мне публичную *уборную*.

На страницах этой книги также встречаются слова "царство" и "царственный". "Как будто и им было дело до нашего отъезда с этого маленького острова: долгожданное посланье от Нессима наконец пришло — как повестка назад, в Царство Мертвых" - страшная перифраза отзначает Александрию, из которой рассказчик уезжает и откуда получает послания от знакомых. В другом фрагменте "царственный" служит способом мощного противопоставления, символизирующего противоречивость города: "Александрия, *принцесса* и *шлюха*. *Царственный* город и, разом, anus mund . Ты останешься неизменной *вовек*, покуда разные расы не перестанут здесь бродить, как *сусло* в *чане*; покуда тысячей фонтанов плещут – будто бы из-под земли – на улицы твои и площади химически активные *гейзеры* страстей и злобы, ярости и, вдруг, внезапных протрезвлений.

# Вместо заключения

На мой взгляд, в данной работе мне удалось подсветить многие важные аспекты, составляющие образ Александрии. Конечно, его анализ требует более тонкого и глубокого подхода, но не будет большим преувеличением утверждать, что PMI - довольно эффективный инструмент дальнего чтения при решении подобного рода задач, который позволяет охватить взглядом одним взглядом всю структуру серии романов, что всегда является нетривальной задачей при ближнем чтении.
